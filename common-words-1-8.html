<!DOCTYPE html>
<html lang="zh-CN" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" content="notranslate">
    <title>Lessons 1-8 Common Words â€“ Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
    <link rel="stylesheet" href="css/common.css">
    <style>
        html, body {
            height: 100%;
            overflow: hidden;
        }

        /* Confidence pane on the right for this experimental page */
        body.experimental-layout #confidencePanel {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 240px;
            overflow: hidden;
            background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
            border-left: 1px solid #e5e7eb;
            box-shadow: -6px 0 20px rgba(0,0,0,0.05);
            padding: 0.65rem 0.85rem 0.85rem;
            margin-top: 0 !important;
            z-index: 40;
            font-size: 0.8rem;
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        body.experimental-layout #confidencePanel .space-y-1 { margin-top: 0.35rem; }
        body.experimental-layout #confidencePanel .border-t { border-top: none !important; }
        body.experimental-layout #confidencePanel .pt-4 { padding-top: 0 !important; }
        body.experimental-layout #confidencePanel #confidenceList {
            flex: 1;
            overflow-y: auto;
            min-height: 0;
            padding-bottom: 0.5rem;
            max-height: none !important;
        }

        /* Add breathing room so content doesn't sit under the right pane */
        body.experimental-layout .app-container {
            padding-right: 16rem;
            min-height: 100vh;
        }

        /* Hide confidence panel on smaller screens */
        @media (max-width: 1024px) {
            body.experimental-layout #confidencePanel {
                display: none;
            }
            body.experimental-layout .app-container {
                padding-right: 0;
            }
        }

        /* Main layout */
        .app-container {
            display: flex;
            height: 100vh;
            width: 100vw;
        }

        /* Sidebar (match standard pages) */
        .sidebar {
            width: 16rem;
            flex-shrink: 0;
            background: #ffffff;
            box-shadow: 0 10px 25px rgba(0,0,0,0.06);
            padding: 1rem;
            overflow-y: auto;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .sidebar-home-btn {
            padding: 0.375rem 0.75rem;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            color: #374151;
            text-decoration: none;
            transition: background 0.15s;
        }

        .sidebar-home-btn:hover {
            background: #f3f4f6;
        }

        .sidebar h2 {
            font-size: 1.125rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            margin-top: 0.5rem;
            text-transform: none;
            letter-spacing: 0;
        }

        .sidebar .mode-desc {
            font-size: 0.875rem;
            color: #9ca3af;
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }

        .sidebar .mode-btn {
            display: block;
            width: 100%;
            padding: 0.5rem 0.75rem;
            margin-bottom: 0.25rem;
            border-radius: 0.75rem;
            border: 2px solid #d1d5db;
            background: #ffffff;
            text-align: left;
            font-size: 0.9rem;
            color: #374151;
            cursor: pointer;
            transition: background 0.15s, border-color 0.15s, color 0.15s;
        }

        .sidebar .mode-btn:hover {
            background: #f3f4f6;
        }

        .sidebar .mode-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        /* Main content area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
            padding: 1rem 2rem;
            overflow: hidden;
        }

        /* Header with title and toolbar */
        .quiz-header {
            flex-shrink: 0;
            text-align: center;
            padding-bottom: 0.5rem;
        }

        .quiz-header h1 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #374151;
            margin: 0;
        }

        /* Quiz display area - grows to fill space */
        .quiz-display {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 0;
            padding: 1rem 0;
        }

        #questionDisplay {
            width: 100%;
        }

        /* Three-column layout tweaks */
        .three-column-meaning-layout {
            margin: 0 auto;
            padding: 0.5rem;
            gap: 2rem;
        }

        .three-column-meaning-layout .column-char-large {
            font-size: clamp(56px, 12vw, 120px);
        }

        .three-column-meaning-layout .column-char {
            font-size: clamp(28px, 5vw, 40px);
        }

        .three-column-meaning-layout .column-card {
            min-height: auto;
            padding: 0.5rem;
        }

        /* Input section - fixed at bottom */
        .input-section {
            flex-shrink: 0;
            max-width: 32rem;
            width: 100%;
            margin: 0 auto;
            padding-top: 1rem;
        }

        .input-section input[type="text"] {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.15s;
        }

        .input-section input[type="text"]:focus {
            border-color: #3b82f6;
        }

        .choice-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .choice-grid button {
            padding: 0.875rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            background: white;
            font-size: 0.9375rem;
            cursor: pointer;
            transition: all 0.15s;
        }

        .choice-grid button:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        /* Stats bar */
        .stats-bar {
            flex-shrink: 0;
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 0.75rem 0;
            font-size: 0.875rem;
            color: #6b7280;
            border-top: 1px solid #f3f4f6;
            margin-top: auto;
        }

        .stats-bar span {
            font-weight: 500;
        }

        /* Feedback area */
        #feedback {
            min-height: 2rem;
            text-align: center;
            font-size: 1.25rem;
            font-weight: 600;
            padding: 0.5rem 0;
        }

        /* Hide sections by default */
        #typeMode, #choiceMode, #fuzzyMode, #strokeOrderMode,
        #handwritingMode, #drawCharMode, #studyMode {
            display: none;
        }

        #typeMode.active, #choiceMode.active, #fuzzyMode.active,
        #strokeOrderMode.active, #handwritingMode.active,
        #drawCharMode.active, #studyMode.active {
            display: block;
        }

        /* Study mode needs full width - remove input-section constraint */
        body.study-mode-active .input-section {
            max-width: none;
            flex-direction: column;
        }

        #studyMode.active {
            width: 100%;
        }

        /* Hide feedback in study mode */
        body.study-mode-active #feedback {
            display: none;
        }


        /* Audio button */
        #audioSection button {
            padding: 0.75rem 1.5rem;
            background: #06b6d4;
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.15s;
        }

        #audioSection button:hover {
            background: #0891b2;
        }
    </style>
    <script src="js/utils.js"></script>
    <script src="js/command-palette.js"></script>
    <script src="js/etymology-loader.js"></script>
    <script src="js/pinyin-utils.js"></script>
    <script src="js/engine/ai-service.js"></script>
    <script src="js/engine/chat.js"></script>
    <script src="js/quiz-engine.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-sync.js"></script>
</head>
<body class="experimental-layout">
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="home.html" class="sidebar-home-btn">â† Home</a>
                <div id="sidebar-profile-slot"></div>
            </div>
            <h2>Quiz Modes</h2>
            <p class="mode-desc">High-frequency "glue" words for dictation practice.</p>
            <nav>
                <button class="mode-btn" data-mode="char-to-meaning-type">Char â†’ Meaning</button>
                <button class="mode-btn" data-mode="char-to-pinyin">Char â†’ Pinyin</button>
                <button class="mode-btn" data-mode="char-to-pinyin-type">Char â†’ Pinyin (MC)</button>
                <button class="mode-btn" data-mode="char-to-pinyin-tones-mc">Char â†’ Pinyin â†’ Tones (MC)</button>
                <button class="mode-btn" data-mode="char-to-tones">Char â†’ Tones</button>
                <button class="mode-btn" data-mode="audio-to-pinyin">Audio â†’ Pinyin</button>
                <button class="mode-btn" data-mode="pinyin-to-char">Pinyin â†’ Char</button>
                <button class="mode-btn" data-mode="audio-to-meaning">Audio â†’ Meaning</button>
                <button class="mode-btn" data-mode="meaning-to-char">Meaning â†’ Char</button>
                <button class="mode-btn" data-mode="stroke-order">Stroke Order</button>
                <button class="mode-btn" data-mode="handwriting">Handwriting</button>
                <button class="mode-btn" data-mode="draw-char">Draw Character</button>
                <button class="mode-btn" data-mode="study">Study Mode</button>
            </nav>
        </aside>

        <main class="main-content">
            <header class="quiz-header">
                <h1>Lessons 1â€“8 Â· Common Words</h1>
                <p class="text-gray-500 text-sm">High-frequency connecting words: particles, conjunctions, pronouns, basic verbs.</p>
            </header>

            <section class="quiz-display">
                <div id="questionDisplay"></div>
                <div id="upcomingCharacters" class="hidden" style="margin-top: 1rem;">
                    <div class="preview-list" style="display: flex; justify-content: center; gap: 1rem; font-size: 2rem; color: #d1d5db;"></div>
                    <div style="font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: #9ca3af; margin-top: 0.5rem;">Upcoming</div>
                </div>
                <div id="hint" style="font-size: 1.25rem; font-weight: 600; margin: 0.75rem 0;"></div>
                <div id="audioSection" class="hidden" style="margin: 1rem 0;">
                    <button id="playAudioBtn">ğŸ”Š Play Sound</button>
                </div>
            </section>

            <section class="input-section">
                <div id="typeMode">
                    <input type="text" id="answerInput" placeholder="Type your answer...">
                    <button id="checkBtn" style="display: none;">Check Answer</button>
                </div>
                <div id="choiceMode">
                    <div id="options" class="choice-grid"></div>
                </div>
                <div id="fuzzyMode">
                    <input type="text" id="fuzzyInput" placeholder="Type your answer...">
                    <div id="fuzzyOptions" class="choice-grid" style="margin-top: 0.75rem;"></div>
                </div>
                <div id="strokeOrderMode">
                    <div id="strokeOrderWriter" style="display: flex; justify-content: center;"></div>
                </div>
                <div id="handwritingMode">
                    <p style="text-align: center; color: #6b7280; margin-bottom: 1rem;">Practice writing on paper, then reveal the answer.</p>
                    <div id="handwritingWriter" style="display: flex; justify-content: center; gap: 10px;"></div>
                    <div style="display: flex; justify-content: center; gap: 0.75rem; margin-top: 1rem;">
                        <button id="hwShowBtn" style="padding: 0.75rem 2rem; background: #3b82f6; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Show Answer</button>
                        <button id="hwNextBtn" style="padding: 0.75rem 2rem; background: #22c55e; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Next</button>
                    </div>
                    <p id="hwSpaceHint" class="text-center text-sm text-gray-500 mt-2">Space: show â†’ tap âœ“ correct Â· hold âœ— wrong</p>
                </div>
                <div id="drawCharMode">
                    <div style="text-align: center; margin-bottom: 1rem;">
                        <div id="ocrResult" style="font-size: 3.5rem; min-height: 5rem; color: #3b82f6; font-weight: 700;"></div>
                        <div style="font-size: 0.875rem; color: #9ca3af;">Real-time recognition</div>
                    </div>
                    <canvas id="drawCanvas" style="display: block; margin: 0 auto; border: 2px solid #d1d5db; border-radius: 0.5rem; cursor: crosshair;" width="300" height="300"></canvas>
                    <div style="display: flex; justify-content: center; gap: 0.75rem; margin-top: 1rem;">
                        <button id="clearCanvasBtn" style="padding: 0.5rem 1.5rem; background: #ef4444; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Clear</button>
                        <button id="submitDrawBtn" style="padding: 0.5rem 1.5rem; background: #22c55e; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Submit</button>
                        <button id="fullscreenDrawBtn" style="padding: 0.5rem 1.5rem; background: #3b82f6; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Fullscreen</button>
                    </div>
                </div>
                <div id="studyMode" class="hidden">
                    <div style="text-align: center; color: #6b7280; margin-bottom: 1rem;">Curated list of high-frequency words from Lessons 1â€“8.</div>
                    <div id="studyList" style="max-height: 480px; overflow-y: auto;"></div>
                </div>
                <div id="feedback" class="text-center text-2xl font-semibold my-4 min-h-[24px]"></div>
            </section>

            <footer class="stats-bar" id="stats">
                <span>Score: <span id="score">0</span>/<span id="total">0</span></span>
                <span>Accuracy: <span id="accuracy">0%</span></span>
            </footer>
        </main>
    </div>

    <script>
        // Common/connecting words from Lessons 1â€“8 (manually curated)
        // These are the "glue" words that appear frequently in dictations
        const characters = [
            // === PARTICLES ===
            { char: 'çš„', pinyin: 'de', meaning: 'particle for modification' },
            { char: 'äº†', pinyin: 'le', meaning: 'particle for completed action / new situation' },
            { char: 'å—', pinyin: '.ma', meaning: 'particle for yes/no questions' },
            { char: 'å‘¢', pinyin: 'ne', meaning: 'particle for follow-up questions' },
            { char: 'å•Š', pinyin: '.a', meaning: 'particle showing obviousness' },
            { char: 'å•°', pinyin: 'lo', meaning: 'particle showing obviousness' },
            { char: 'ç€', pinyin: 'zhe', meaning: 'particle for ongoing action' },
            { char: 'å¾—', pinyin: '.de', meaning: 'complement marker' },

            // === CONJUNCTIONS ===
            { char: 'å’Œ', pinyin: 'hÃ©', meaning: 'and' },
            { char: 'è·Ÿ', pinyin: 'gÄ“n', meaning: 'and; with' },
            { char: 'å¯æ˜¯', pinyin: 'kÄ›.shÃ¬', meaning: 'however; but' },
            { char: 'ä½†æ˜¯', pinyin: 'dÃ n.shÃ¬', meaning: 'but' },
            { char: 'å› ä¸º', pinyin: 'yÄ«n.wÃ¨i', meaning: 'because' },
            { char: 'æ‰€ä»¥', pinyin: 'suÇ’.yÇ', meaning: 'therefore' },
            { char: 'è™½ç„¶', pinyin: 'suÄ«rÃ¡n', meaning: 'although' },
            { char: 'è€Œ', pinyin: 'Ã©r', meaning: 'and; yet; but' },
            { char: 'ä¸ä½†', pinyin: 'bÃ¹dÃ n', meaning: 'not only' },
            { char: 'åªè¦', pinyin: 'zhÇyÃ o', meaning: 'as long as' },
            { char: 'ä¸ºäº†', pinyin: 'wÃ¨ile', meaning: 'in order to' },

            // === PRONOUNS ===
            { char: 'æˆ‘', pinyin: 'wÇ’', meaning: 'I; me' },
            { char: 'ä½ ', pinyin: 'nÇ', meaning: 'you' },
            { char: 'ä»–', pinyin: 'tÄ', meaning: 'he; him' },
            { char: 'ä»–ä»¬', pinyin: 'tÄ.men', meaning: 'they; them' },
            { char: 'è‡ªå·±', pinyin: 'zÃ¬jÇ', meaning: 'oneself' },
            { char: 'è¿™', pinyin: 'zhÃ¨', meaning: 'this' },
            { char: 'é‚£', pinyin: 'nÃ ', meaning: 'that' },

            // === QUESTION WORDS ===
            { char: 'ä»€ä¹ˆ', pinyin: 'shÃ©n.me', meaning: 'what' },
            { char: 'å“ªå„¿', pinyin: 'nÇr', meaning: 'where' },
            { char: 'æ€ä¹ˆ', pinyin: 'zÄ›n.me', meaning: 'how; how come' },
            { char: 'ä¸ºä»€ä¹ˆ', pinyin: 'wÃ¨ishÃ©n.me', meaning: 'why' },

            // === ADVERBS ===
            { char: 'éƒ½', pinyin: 'dÅu', meaning: 'all; both; in every case' },
            { char: 'ä¹Ÿ', pinyin: 'yÄ›', meaning: 'also; too' },
            { char: 'è¿˜', pinyin: 'hÃ¡i', meaning: 'still; also' },
            { char: 'å¾ˆ', pinyin: 'hÄ›n', meaning: 'very' },
            { char: 'å¤ª', pinyin: 'tÃ i', meaning: 'too; excessively' },
            { char: 'çœŸ', pinyin: 'zhÄ“n', meaning: 'really; truly' },
            { char: 'æ›´', pinyin: 'gÃ¨ng', meaning: 'even more' },
            { char: 'å°±', pinyin: 'jiÃ¹', meaning: 'then; precisely; as early as' },
            { char: 'æ‰', pinyin: 'cÃ¡i', meaning: 'only then; just; only' },
            { char: 'å¸¸', pinyin: 'chÃ¡ng', meaning: 'often' },
            { char: 'æ€»', pinyin: 'zÇ’ng', meaning: 'always' },
            { char: 'å¹¶', pinyin: 'bÃ¬ng', meaning: 'actually (not); for emphasis' },
            { char: 'å´', pinyin: 'quÃ¨', meaning: 'but; yet; however' },
            { char: 'åª', pinyin: 'zhÇ', meaning: 'only' },

            // === BASIC VERBS ===
            { char: 'æ˜¯', pinyin: 'shÃ¬', meaning: 'is; am; are' },
            { char: 'æœ‰', pinyin: 'yÇ’u', meaning: 'have; there is/are' },
            { char: 'åœ¨', pinyin: 'zÃ i', meaning: 'be at; be located' },
            { char: 'ä¼š', pinyin: 'huÃ¬', meaning: 'can; will; know how to' },
            { char: 'èƒ½', pinyin: 'nÃ©ng', meaning: 'can; be able to' },
            { char: 'å¯ä»¥', pinyin: 'kÄ›yÇ', meaning: 'can; may' },
            { char: 'è¦', pinyin: 'yÃ o', meaning: 'want; need; will' },
            { char: 'æƒ³', pinyin: 'xiÇng', meaning: 'want to; think; miss' },
            { char: 'å¾—', pinyin: 'dÄ›i', meaning: 'have to; must' },
            { char: 'è¯´', pinyin: 'shuÅ', meaning: 'speak; say' },
            { char: 'çœ‹', pinyin: 'kÃ n', meaning: 'look; see; read' },
            { char: 'æ¥', pinyin: 'lÃ¡i', meaning: 'come' },
            { char: 'å»', pinyin: 'qÃ¹', meaning: 'go' },
            { char: 'åš', pinyin: 'zuÃ²', meaning: 'do; make' },
            { char: 'çŸ¥é“', pinyin: 'zhÄ«dao', meaning: 'know' },
            { char: 'æ‡‚', pinyin: 'dÇ’ng', meaning: 'understand' },
            { char: 'è§‰å¾—', pinyin: 'juÃ©.de', meaning: 'feel; think' },
            { char: 'å–œæ¬¢', pinyin: 'xÇhuÄn', meaning: 'like' },

            // === LOCATION/TIME ===
            { char: 'ä¸Š', pinyin: 'shÃ ng', meaning: 'on; above; last' },
            { char: 'é‡Œ', pinyin: 'lÇ', meaning: 'inside; in' },
            { char: 'è¾¹', pinyin: 'biÄn', meaning: 'side' },
            { char: 'ç°åœ¨', pinyin: 'xiÃ nzÃ i', meaning: 'now' },
            { char: 'ä»¥å‰', pinyin: 'yÇqiÃ¡n', meaning: 'before; previously' },
            { char: 'åæ¥', pinyin: 'hÃ²ulÃ¡i', meaning: 'later; afterwards' },
            { char: 'æ—¶å€™', pinyin: 'shÃ­.hou', meaning: 'time; moment' },
            { char: 'ä»Šå¤©', pinyin: 'jÄ«ntiÄn', meaning: 'today' },

            // === MEASURE WORDS ===
            { char: 'ä¸ª', pinyin: 'gÃ¨', meaning: 'general measure word' },
            { char: 'ä¸¤', pinyin: 'liÇng', meaning: 'two (with measure words)' },

            // === OTHER COMMON ===
            { char: 'ä¸', pinyin: 'bÃ¹', meaning: 'no; not' },
            { char: 'æ²¡', pinyin: 'mÃ©i', meaning: 'not; have not' },
            { char: 'å¯¹', pinyin: 'duÃ¬', meaning: 'correct; right' },
            { char: 'å¤š', pinyin: 'duÅ', meaning: 'many; much; more' },
            { char: 'å¤§', pinyin: 'dÃ ', meaning: 'big; large' },
            { char: 'å°', pinyin: 'xiÇo', meaning: 'small; young' },
            { char: 'ä¸€æ ·', pinyin: 'yÄ«yÃ ng', meaning: 'same; alike' },
            { char: 'ä¸€ç‚¹å„¿', pinyin: 'yÃ¬diÇnr', meaning: 'a little' },
            { char: 'ä¸€å®š', pinyin: 'yÃ­dÃ¬ng', meaning: 'certainly; definitely' },
            { char: 'ä¸ä¸€å®š', pinyin: 'bÃ¹yÄ«dÃ¬ng', meaning: 'not necessarily' },
            { char: 'è¿˜æ˜¯', pinyin: 'hÃ¡ishÃ¬', meaning: 'or; still' },
            { char: 'æœ‰çš„', pinyin: 'yÇ’u.de', meaning: 'some' },
            { char: 'è¶Šæ¥è¶Š', pinyin: 'yuÃ¨lÃ¡iyuÃ¨', meaning: 'more and more' },
            { char: 'é‚£ä¹ˆ', pinyin: 'nÃ .me', meaning: 'then; in that case' },
            { char: 'åªæ˜¯', pinyin: 'zhÇ.shÃ¬', meaning: 'only; just; merely' },
            { char: 'åªæœ‰', pinyin: 'zhÇyÇ’u', meaning: 'only; only if' },
            { char: 'å°±æ˜¯', pinyin: 'jiÃ¹.shÃ¬', meaning: 'exactly; precisely' },

            // === LESSONS 5â€“8 ADDITIONS ===
            // --- People & things ---
            { char: 'è€å¸ˆ', pinyin: 'lÇoshÄ«', meaning: 'teacher' },
            { char: 'ä¸Šè¯¾', pinyin: 'shÃ ngkÃ¨', meaning: 'hold class; go to class' },
            { char: 'åå­—', pinyin: 'mÃ­ng.zi', meaning: 'name' },
            { char: 'å­©å­', pinyin: 'hÃ¡i.zi', meaning: 'child' },
            { char: 'ç”µè¯', pinyin: 'diÃ nhuÃ ', meaning: 'phone call; telephone' },
            { char: 'å·ç ', pinyin: 'hÃ omÇ', meaning: 'number' },
            { char: 'ç”µå½±', pinyin: 'diÃ nyÇng', meaning: 'movie' },

            // --- Actions & verbs ---
            { char: 'é—®', pinyin: 'wÃ¨n', meaning: 'ask' },
            { char: 'å«', pinyin: 'jiÃ o', meaning: 'call; be called; tell' },
            { char: 'å†™', pinyin: 'xiÄ›', meaning: 'write' },
            { char: 'å›ç­”', pinyin: 'huÃ­dÃ¡', meaning: 'answer; respond' },
            { char: 'ç»™', pinyin: 'gÄ›i', meaning: 'for; to/give' },
            { char: 'æ‰“', pinyin: 'dÇ', meaning: 'dial or call (on phone)' },
            { char: 'ä¹°', pinyin: 'mÇi', meaning: 'buy' },
            { char: 'ç”¨', pinyin: 'yÃ²ng', meaning: 'use' },
            { char: 'æ‹¿', pinyin: 'nÃ¡', meaning: 'take with hand; bring; carry' },
            { char: 'æ•™', pinyin: 'jiÄo', meaning: 'teach' },
            { char: 'ä½', pinyin: 'zhÃ¹', meaning: 'stay; live' },
            { char: 'è®¤è¯†', pinyin: 'rÃ¨n.shi', meaning: 'know (a person); recognize' },
            { char: 'è€ƒè™‘', pinyin: 'kÇolÇœ', meaning: 'consider' },
            { char: 'å†³å®š', pinyin: 'juÃ©dÃ¬ng', meaning: 'decide' },
            { char: 'çˆ±', pinyin: 'Ã i', meaning: 'love' },

            // --- Time & sequence ---
            { char: 'æ˜å¤©', pinyin: 'mÃ­ngtiÄn', meaning: 'tomorrow' },
            { char: 'æ¯å¤©', pinyin: 'mÄ›itiÄn', meaning: 'every day' },
            { char: 'å·²ç»', pinyin: 'yÇjÄ«ng', meaning: 'already' },
            { char: 'è‡³å°‘', pinyin: 'zhÃ¬shÇo', meaning: 'at least' },
            { char: 'å†', pinyin: 'zÃ i', meaning: 'again' },
            { char: 'è¿‡', pinyin: 'guÃ²', meaning: 'verbal suffix for past experience' },
            { char: 'ä¸è¿‡', pinyin: 'bÃºguÃ²', meaning: 'but; however' },
            { char: 'è¦æ˜¯', pinyin: 'yÃ oshi', meaning: 'if' },

            // --- Courtesy & questions ---
            { char: 'è¯·', pinyin: 'qÇng', meaning: 'please; request' },
            { char: 'ä¸å¥½æ„æ€', pinyin: 'bÃ¹hÇoyÃ¬.si', meaning: 'embarrassing; sorry' },
            { char: 'æ‚¨', pinyin: 'nÃ­n', meaning: 'you (a respectful form)' },
            { char: 'åˆ«', pinyin: 'biÃ©', meaning: 'don\'t' },
            { char: 'æœ‰æ²¡æœ‰', pinyin: 'yÇ’u mÃ©iyÇ’u', meaning: 'have or not? are there?' },
            { char: 'è°', pinyin: 'shÃ©i', meaning: 'who' },
            { char: 'æ€ä¹ˆå›äº‹', pinyin: 'zÄ›n.me huÃ­ shÃ¬', meaning: "what's the matter?" },

            // --- States & attitudes ---
            { char: 'æ–¹ä¾¿', pinyin: 'fÄngbiÃ n', meaning: 'convenient' },
            { char: 'é—®é¢˜', pinyin: 'wÃ¨ntÃ­', meaning: 'problem; question' },
            { char: 'æ—¶é—´', pinyin: 'shÃ­jiÄn', meaning: 'time' },
            { char: 'ç®€å•', pinyin: 'jiÇndÄn', meaning: 'simple' },
            { char: 'å®¹æ˜“', pinyin: 'rÃ³ngyÃ¬', meaning: 'easy' },
            { char: 'æœ€å¥½', pinyin: 'zuÃ¬hÇo', meaning: 'had better' },
            { char: 'è¡Œ', pinyin: 'xÃ­ng', meaning: 'all right; OK; no problem' },
            { char: 'å¿™', pinyin: 'mÃ¡ng', meaning: 'busy' },
            { char: 'æ”¾å¿ƒ', pinyin: 'fÃ ngxÄ«n', meaning: 'don\'t worry; put down the heart' },
            { char: 'æ‹…å¿ƒ', pinyin: 'dÄnxÄ«n', meaning: 'worry' },
            { char: 'æ— èŠ', pinyin: 'wÃºliÃ¡o', meaning: 'boring' },
            { char: 'è®¤çœŸ', pinyin: 'rÃ¨nzhÄ“n', meaning: 'conscientious; earnest' },
            { char: 'è½»æ¾', pinyin: 'qÄ«ngsÅng', meaning: 'relaxed; relaxing' },
            { char: 'æ„¿æ„', pinyin: 'yuÃ nyÃ¬', meaning: 'willing' },
            { char: 'åº”è¯¥', pinyin: 'yÄ«nggÄi', meaning: 'should; ought to' },
            { char: 'æœ€', pinyin: 'zuÃ¬', meaning: 'most' },
            { char: 'è®¸å¤š', pinyin: 'xÇ”duÅ', meaning: 'many; much' },
            { char: 'ä¸€èµ·', pinyin: 'yÃ¬qÇ', meaning: 'together' },
            { char: 'ç¨å¾®', pinyin: 'shÄowÄ“i', meaning: 'a little; slightly' }
        ];

        initQuiz(characters, {
            enablePreviewQueue: true,
            previewQueueSize: 1,
            previewElementId: 'upcomingCharacters',
            previewApplicableModes: ['char-to-meaning-type', 'char-to-meaning', 'audio-to-meaning']
        });
    </script>
</body>
</html>
